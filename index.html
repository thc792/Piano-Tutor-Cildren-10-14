<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piano App per Bambini</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header id="main-header">
        <nav id="top-navigation">
            <button id="btn-home" class="nav-button">Home</button>
            <button id="btn-teoria-musicale" class="nav-button">Teoria Musicale</button>
            <button id="btn-esercizi-teorici" class="nav-button">Esercizi di Teoria</button>
            <button id="btn-verifica" class="nav-button">Esercizi Verifica</button>
        </nav>
        <div id="global-controls">
            <button id="toggle-staff-note-names-btn" class="utility-btn">Note Scritte (Pentagramma) On/Off</button>
            <button id="btnClearStaff" class="utility-btn">Pulisci Pentagramma</button>
            <span id="midi-status-indicator">MIDI: Non connesso</span>
        </div>
    </header>

    <div id="main-tv-screens-container">
        <div class="main-tv-screen" id="center-main-tv">
            <div class="main-tv-screen-content">
                <h2>Piano Tutor cildren</h2>
                <p>Benvenuti su piano tutor cildren</p>
            </div>
        </div>
    </div>

    <main id="content-area">
        <!-- Contenuto dinamico -->
    </main>

    <footer id="piano-section-footer">
        <div id="staff-above-keyboard">
            <div id="vexflow-staff-output">
                <!-- VexFlow home staff -->
            </div>
        </div>

        <div id="keyboard-and-controls-wrapper">
            <div id="left-keyboard-controls" class="side-controls">
                <button id="btn-play" class="playback-btn" aria-label="Play">▶️</button>
                <button id="btn-pause" class="playback-btn" aria-label="Pausa">⏸️</button>
                <button id="btn-stop" class="playback-btn" aria-label="Stop">⏹️</button>
            </div>

            <div class="piano-container">
                <div class="piano" id="piano-keys">
                    <!-- TASTI BIANCHI (A3-A5) -->
                    <div class="key white" data-midi="57" data-note="A3" data-note-name="La">A3</div>
                    <div class="key white" data-midi="59" data-note="B3" data-note-name="Si">B3</div>
                    <div class="key white" data-midi="60" data-note="C4" data-note-name="Do">C4</div>
                    <div class="key white" data-midi="62" data-note="D4" data-note-name="Re">D4</div>
                    <div class="key white" data-midi="64" data-note="E4" data-note-name="Mi">E4</div>
                    <div class="key white" data-midi="65" data-note="F4" data-note-name="Fa">F4</div>
                    <div class="key white" data-midi="67" data-note="G4" data-note-name="Sol">G4</div>
                    <div class="key white" data-midi="69" data-note="A4" data-note-name="La">A4</div>
                    <div class="key white" data-midi="71" data-note="B4" data-note-name="Si">B4</div>
                    <div class="key white" data-midi="72" data-note="C5" data-note-name="Do">C5</div>
                    <div class="key white" data-midi="74" data-note="D5" data-note-name="Re">D5</div>
                    <div class="key white" data-midi="76" data-note="E5" data-note-name="Mi">E5</div>
                    <div class="key white" data-midi="77" data-note="F5" data-note-name="Fa">F5</div>
                    <div class="key white" data-midi="79" data-note="G5" data-note-name="Sol">G5</div>
                    <div class="key white" data-midi="81" data-note="A5" data-note-name="La">A5</div>

                    <!-- TASTI NERI (A#3-G#5) -->
                    <div class="key black" data-midi="58" data-note="A#3" data-note-name="La#" style="left: calc(1 * 45px - 13px);"><span class="note-name-black">La#3</span></div>
                    <div class="key black" data-midi="61" data-note="C#4" data-note-name="Do#" style="left: calc(3 * 45px - 13px);"><span class="note-name-black">Do#4</span></div>
                    <div class="key black" data-midi="63" data-note="D#4" data-note-name="Re#" style="left: calc(4 * 45px - 13px);"><span class="note-name-black">Re#4</span></div>
                    <div class="key black" data-midi="66" data-note="F#4" data-note-name="Fa#" style="left: calc(6 * 45px - 13px);"><span class="note-name-black">Fa#4</span></div>
                    <div class="key black" data-midi="68" data-note="G#4" data-note-name="Sol#" style="left: calc(7 * 45px - 13px);"><span class="note-name-black">Sol#4</span></div>
                    <div class="key black" data-midi="70" data-note="A#4" data-note-name="La#" style="left: calc(8 * 45px - 13px);"><span class="note-name-black">La#4</span></div>
                    <div class="key black" data-midi="73" data-note="C#5" data-note-name="Do#" style="left: calc(10 * 45px - 13px);"><span class="note-name-black">Do#5</span></div>
                    <div class="key black" data-midi="75" data-note="D#5" data-note-name="Re#" style="left: calc(11 * 45px - 13px);"><span class="note-name-black">Re#5</span></div>
                    <div class="key black" data-midi="78" data-note="F#5" data-note-name="Fa#" style="left: calc(13 * 45px - 13px);"><span class="note-name-black">Fa#5</span></div>
                    <div class="key black" data-midi="80" data-note="G#5" data-note-name="Sol#" style="left: calc(14 * 45px - 13px);"><span class="note-name-black">Sol#5</span></div>
                </div>
            </div>
            <div id="right-keyboard-controls" class="side-controls">
                <button id="toggle-keyboard-note-names-btn" aria-label="Mostra o nascondi tasti extra">Modalità Tastiera Estesa</button>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/vexflow@4.2.3/build/cjs/vexflow.js"></script>

    <script type="module" src="vexflow_renderer.js"></script>
    <script type="module" src="main.js"></script>
    <script type="module" src="midi_handler.js"></script>
    <script type="module" src="audio_handler.js"></script>
    <script type="module" src="verification_exercise.js"></script> <!-- Percorso corretto se nella root -->
    
    <script type="module" src="theory_notes_display.js"></script>
    <script type="module" src="quiz_exercise.js"></script>
    
    <script type="module" src="./teoria/teoriaspiegazionedurate.js"></script>
    <script type="module" src="./exercises/eserciziodurate.js"></script>
    <script type="module" src="./teoria/teoriaintervalli.js"></script>
    <script type="module" src="./exercises/eserciziointervalli.js"></script>
    <script type="module" src="./teoria/teoriaalterazioni.js"></script>
    <script type="module" src="./exercises/esercizioalterazioni.js"></script>
    <script type="module" src="./teoria/teoriatriadi.js"></script>
    <script type="module" src="./exercises/eserciziotriadi.js"></script>

</body>
</html>